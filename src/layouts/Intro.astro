---
import background from "/assets/images/png/background/png?url";
---

<section id="hero" class="relative h-screen w-screen overflow-hidden">
  <!-- center div -->

  <!-- Display a video as a site splash and remove it once it ends -->
  <div id="video" class="absolute z-50 flex justify-center align-middle items-center top-0 left-0 w-full h-full bg-black">
    <video autoplay muted playsinline class="object-center w-32 h-32 object-contain">
      <source class="w-5 h-5" src="/assets/videos/sirius.mp4" type="video/mp4" />
    </video>
  </div>

  <div class="h-full flex flex-col items-center relative justify-center z-10">
    <h1 id="title" class="font-extrabold text-white text-8xl duration-1000 scale-150 delay-500 transition-all ease-in-out opacity-0">Sirius</h1>
    <p id="titleP" class="text-2xl text-white opacity-70 duration-1000 scale-150 transition-all ease-in-out !opacity-0 delay-700">Bleeding. Edge.</p>
  </div>
  <div class="w-full z-40 justify-center flex bottom-10 left-1/2 transform -translate-x-1/2 absolute">
    <button id="downButton" onclick="scrollToHero2();" type="button" class="transition-all opacity-0 ease-in-out duration-1000 delay-1000 scale-150 animate-bounce text-white font-medium rounded-full text-sm p-2.5 text-center items-center border-4 border-opacity-0 hover:border-opacity-50 border-white hover:text-opacity-50">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="text-white w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"></path>
      </svg>
    </button>
  </div>

  <!-- blurred frosted blob 1 purple/blue -->
  <div class="blobs absolute transform -translate-x-1/2 overflow-hidden rounded-full scale-150 opacity-0 saturate-200 transition-all duration-1000 ease-in-out -translate-y-1/2 top-[50%] left-[50%] w-[700px] h-[700px] bg-[radial-gradient(circle_at_50%_50%,_#444bf7,_#444bf74d)] blur-[80px]"></div>
  <!-- blurred frosted blob 2 red-->
  <div class="blobs absolute transform translate-x-1/2 overflow-hidden rounded-full scale-150 delay-200 opacity-0 saturate-200 transition-all duration-1000 ease-in-out translate-y-1/2 bottom-[40%] right-[40%] w-[600px] h-[600px] bg-[radial-gradient(circle_at_50%_50%,_#f74444,_#f744444d)] blur-[80px]"></div>
</section>

<script>
  // remove the opacity class after domcontentloaded
  window.addEventListener("DOMContentLoaded", () => {
    // animate each path in the svg individually with a delay transitioning scale and opacity
    const videoContainer = document.getElementById("video");
    const video = document.querySelector("#video video");
    video.addEventListener("ended", () => {
      // delete the video element
      videoContainer.remove();
      const title = document.getElementById("title");
      const titleP = document.getElementById("titleP");
      const downButton = document.getElementById("downButton");
      const navBar = document.getElementById("navBar");
      const blobs = document.querySelectorAll(".blobs");
      title.classList.remove("opacity-0", "scale-150");
      titleP.classList.remove("!opacity-0", "scale-150");
      downButton.classList.remove("opacity-0", "scale-150");
      navBar.classList.remove("-translate-y-full", "opacity-0");
      navBar.setAttribute("data-animating", "true");
      blobs.forEach((blob) => {
        blob.classList.remove("scale-150", "opacity-0");
      });

      setTimeout(() => {
        blobs[0].classList.add("animate-pulse-subtle");
        blobs[1].classList.add("animate-pulse-subtle-delayed");
        downButton.classList.remove("delay-1000", "duration-1000");
        downButton.classList.add("duration-500");
      }, 1000);

      // remove the transition class
      setTimeout(() => {
        navBar.classList.remove("duration-1000", "delay-[2s]", "transition-all", "ease-in-out");
        navBar.classList.add("transition-[background-color_0.5s_cubic-bezier(0.28,0.11,0.32,1)_0s]");
      }, 3000);
    });
    // remove the opacity and scale classes from the title and titleP
  });
</script>

<script is:inline>
  function scrollToHero2() {
    const hero2 = document.getElementById("hero2scroll");
    hero2.scrollIntoView({ behavior: "smooth" });
  }
</script>
